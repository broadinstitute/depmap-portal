{# please also include js and css to use #}
{# takes in it's caller, see http://jinja.pocoo.org/docs/2.10/templates/#call #}

{# Example usage:
    {% call accordion('test', 'Test') %}
        <div>These are the contents of the accordion</div>
    {% endcall %}
#}

{% macro accordion(id, title, parent_class="accordion") -%}
<div class="{{ parent_class }}">
    <div id="accordion-{{ id }}" class="accordion-toggle-trigger">
        <div class="accordion-title">
            <span class="accordion-title-text">{{ title }}</span>
            <span class="glyphicon glyphicon-triangle-right" style="float: right;" aria-hidden="true"></span>
        </div>
    </div>
    <!-- the javascript relies on the contents div being the nextElementSibling -->
    <div class="accordion-toggle-target">
        <div class="accordion-contents">
            {{ caller() }}
        </div>
    </div>
</div>
{%- endmacro %}