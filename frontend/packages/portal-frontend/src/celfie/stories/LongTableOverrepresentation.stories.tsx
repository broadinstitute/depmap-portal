import * as React from "react";

import LongTableOverrepresentation from "src/celfie/components/LongTableOverrepresentation";

export default {
  title: "Components/Celfie/LongTableOverrepresentation",
  component: LongTableOverrepresentation,
};
const data = {
  overrepresentation: {
    gene_sets_down: {
      genes: [
        ["KDM7A"],
        ["NRAS"],
        ["NRAS"],
        ["MED1"],
        ["NRAS"],
        ["NRAS", "MAP4K4"],
        ["MAP4K4"],
        ["MAP4K4"],
        ["NRAS"],
        ["KDM7A"],
      ],
      n: [0, 0, 0, 0, 0, 0, 1, 1, 0, 0],
      neg_log_p: [
        5.19460439812725,
        0,
        0,
        0,
        1.0050297220027968,
        0,
        0,
        0.4192070888591527,
        0,
        0,
      ],
      p_value: [
        1,
        1,
        1,
        1,
        1,
        1,
        0.49999999999999994,
        0.49999999999999994,
        1,
        1,
      ],
      rank: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9],
      term: [
        "HALLMARK HEME METABOLISM\n",
        "REACTOME SIGNALING BY\n TYPE 1 INSULIN\n LIKE GROWTH FACTOR\n 1 RECEPTOR IGF1R\n",
        "REACTOME DAP12 SIGNALING\n",
        "REACTOME ACTIVATION OF\n GENE EXPRESSION BY\n SREBF SREBP",
        "REACTOME SHC RELATED\n EVENTS TRIGGERED BY\n IGF1R",
        "REACTOME FC EPSILON\n RECEPTOR FCERI SIGNALING\n",
        "REACTOME OXIDATIVE STRESS\n INDUCED SENESCENCE",
        "REACTOME CELLULAR SENESCENCE\n",
        "REACTOME FCERI MEDIATED\n MAPK ACTIVATION",
        "REACTOME HDMS DEMETHYLATE\n HISTONES",
      ],
      term_short: [
        "HEME METABOLISM",
        "SIGNALING BY TYPE 1 IN...",
        "DAP12 SIGNALING",
        "ACTIVATION OF GENE EXP...",
        "SHC RELATED EVENTS TRI...",
        "FC EPSILON RECEPTOR FC...",
        "OXIDATIVE STRESS INDUC...",
        "CELLULAR SENESCENCE",
        "FCERI MEDIATED MAPK AC...",
        "HDMS DEMETHYLATE HISTO...",
      ],
      type: [
        "gene_set_down",
        "gene_set_down",
        "gene_set_down",
        "gene_set_down",
        "gene_set_down",
        "gene_set_down",
        "gene_set_down",
        "gene_set_down",
        "gene_set_down",
        "gene_set_down",
      ],
      x: [
        17.61122766858688,
        13.505273138178893,
        13.505273138178893,
        14.334731885253518,
        13.505273138178893,
        13.505273138178893,
        13.448112914668476,
        13.448112914668476,
        13.505273138178893,
        17.61122766858688,
      ],
      y: [
        16.198878515827303,
        17.10225359085414,
        17.10225359085414,
        14.486040192980456,
        17.10225359085414,
        17.10225359085414,
        15.644013685554103,
        15.644013685554103,
        17.10225359085414,
        16.198878515827303,
      ],
    },
    gene_sets_up: {
      genes: [
        ["KDM7A", "NRAS"],
        ["NRAS"],
        ["NRAS"],
        ["NRAS", "MED1"],
        ["MED1"],
        ["NRAS"],
        ["NRAS"],
        ["NRAS"],
        ["KDM7A"],
        ["MED1"],
      ],
      n: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
      neg_log_p: [
        0.3216308197361516,
        0.3216308197361516,
        0.3216308197361516,
        0.3216308197361516,
        0.3216308197361516,
        0.3216308197361516,
        0.3216308197361516,
        0.3216308197361516,
        0.3216308197361516,
        0.3216308197361516,
      ],
      p_value: [
        0.39999999999999997,
        0.39999999999999997,
        0.39999999999999997,
        0.39999999999999997,
        0.39999999999999997,
        0.39999999999999997,
        0.39999999999999997,
        0.39999999999999997,
        0.39999999999999997,
        0.39999999999999997,
      ],
      rank: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9],
      term: [
        "HALLMARK HEME METABOLISM\n",
        "REACTOME EGFR TRANSACTIVATION\n BY GASTRIN",
        "REACTOME SIGNALING BY\n TYPE 1 INSULIN\n LIKE GROWTH FACTOR\n 1 RECEPTOR IGF1R\n",
        "REACTOME DAP12 SIGNALING\n",
        "REACTOME ACTIVATION OF\n GENE EXPRESSION BY\n SREBF SREBP",
        "REACTOME SHC RELATED\n EVENTS TRIGGERED BY\n IGF1R",
        "REACTOME FC EPSILON\n RECEPTOR FCERI SIGNALING\n",
        "REACTOME FCERI MEDIATED\n MAPK ACTIVATION",
        "REACTOME HDMS DEMETHYLATE\n HISTONES",
        "REACTOME REGULATION OF\n LIPID METABOLISM BY\n PEROXISOME PROLIFERATOR ACTIVATED\n RECEPTOR ALPHA PPARALPHA\n",
      ],
      term_short: [
        "HEME METABOLISM",
        "EGFR TRANSACTIVATION B...",
        "SIGNALING BY TYPE 1 IN...",
        "DAP12 SIGNALING",
        "ACTIVATION OF GENE EXP...",
        "SHC RELATED EVENTS TRI...",
        "FC EPSILON RECEPTOR FC...",
        "FCERI MEDIATED MAPK AC...",
        "HDMS DEMETHYLATE HISTO...",
        "REGULATION OF LIPID ME...",
      ],
      type: [
        "gene_set_up",
        "gene_set_up",
        "gene_set_up",
        "gene_set_up",
        "gene_set_up",
        "gene_set_up",
        "gene_set_up",
        "gene_set_up",
        "gene_set_up",
        "gene_set_up",
      ],
      x: [
        17.61122766858688,
        13.505273138178893,
        13.505273138178893,
        13.505273138178893,
        14.334731885253518,
        13.505273138178893,
        13.505273138178893,
        13.505273138178893,
        17.61122766858688,
        14.334731885253518,
      ],
      y: [
        16.198878515827303,
        17.10225359085414,
        17.10225359085414,
        17.10225359085414,
        14.486040192980456,
        17.10225359085414,
        17.10225359085414,
        17.10225359085414,
        16.198878515827303,
        14.486040192980456,
      ],
    },
  },
};
const OverrepresentationProps: React.ComponentProps<
  typeof LongTableOverrepresentation
> = {
  geneSetsUp: data.overrepresentation.gene_sets_up,
  geneSetsDown: data.overrepresentation.gene_sets_down,
  columns: [
    {
      key: "direction",
      displayName: "Direction",
      colorMap: new Map<string, string>([
        ["Up", "#FF5959"], // this uses color_palette in the real version
        ["Down", "#00B7FF"],
      ]),
    },
    {
      key: "geneset",
      displayName: "Geneset",
      type: "character",
    },
    {
      key: "negLogP",
      displayName: "P-value (-log10 POS/NEG)",
    },
    {
      key: "setSize",
      displayName: "Set size",
    },
  ],
};

export const LongTableOverrepresentationStory = () => (
  <div style={{ height: "400px" }}>
    <LongTableOverrepresentation
      geneSetsUp={OverrepresentationProps.geneSetsUp}
      geneSetsDown={OverrepresentationProps.geneSetsDown}
      columns={OverrepresentationProps.columns}
    />
  </div>
);
